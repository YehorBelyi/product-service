{% extends 'product_service/template.html' %}

{% load static %}

{% block title %} Home Page {% endblock %}

{% block container %}
	{% include 'product_service/components/carousel.html' %}

	<div class="container mt-5">
		<h2>Featured Products</h2>
		<div class="row">
			{% for listing in random_listings %}
				<div class="col-md-3">
					<div class="card mb-4 shadow-sm card-img-fixed featured-card">
						{% if listing.product_images.first %}
							<img src="{{ listing.product_images.first.image.url }}" class="card-img-top"
								 alt="{{ listing.product_name }}">
						{% else %}
							<img src="{% static 'product_service/images/no_image.png' %}" class="card-img-top"
								 alt="No image available">
						{% endif %}
						<div class="card-body d-flex flex-column align-items-center justify-content-between">
							<h5 class="card-title featured-card-title">{{ listing.product_name }}</h5>
							<p class="card-text">{{ listing.cost|floatformat:2 }}$</p>
							<a href="{% url 'listing-details' listing.pk %}" class="btn btn-primary">View Details</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}