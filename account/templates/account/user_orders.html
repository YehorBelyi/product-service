{% load static %}

<div class="product-list-container">
	{% for order in user_orders %}
		<div
			class="container d-flex shadow rounded my-3 product-order-container align-items-center justify-content-between">
			<div class="product-order-review d-flex align-items-center justify-content-center">
				<div class="product-order-image">
					{% with main_image=order.product.product_images.first %}
						{% if main_image %}
							<img src="{{ main_image.image.url }}" alt="{{ order.product.product_name }} image"
								 class="rounded">
						{% else %}
							<img src="{% static 'product_service/images/no_image.png' %}"
								 alt="{{ order.product.product_name }} image"
								 class="rounded">
						{% endif %}
					{% endwith %}
				</div>
				<div class="listing-review-info mx-3 d-flex flex-column justify-content-center">
					<h2>{{ order.product.product_name }}</h2>
					<h3 class="review-category">
						<span class="badge text-bg-primary">Cost</span>
						{{ order.product.cost|floatformat:2 }}$</h3>

				</div>
			</div>
			<div class="listing-review-price text-center">
				<span class="badge text-bg-warning">{{ order.status }}</span>
			</div>
		</div>
	{% empty %}
		<div class="alert alert-warning mt-3 text-center" role="alert">
			You don't have any ordered products yet!
		</div>
	{% endfor %}
</div>


{% if user_orders.has_other_pages %}
	<nav aria-label="Page navigation">
		<ul class="pagination justify-content-center mt-3">
			{% if user_orders.has_previous %}
				<li class="page-item">
					<a class="page-link" href="?page={{ user_orders.previous_page_number }}" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<span class="page-link">&laquo;</span>
				</li>
			{% endif %}

			{% for num in user_orders.paginator.page_range %}
				{% if user_orders.number == num %}
					<li class="page-item active" aria-current="page">
						<span class="page-link">{{ num }}</span>
					</li>
				{% else %}
					<li class="page-item">
						<a class="page-link" href="?page={{ num }}">{{ num }}</a>
					</li>
				{% endif %}
			{% endfor %}

			{% if user_orders.has_next %}
				<li class="page-item">
					<a class="page-link" href="?page={{ user_orders.next_page_number }}" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<span class="page-link">&raquo;</span>
				</li>
			{% endif %}
		</ul>
	</nav>
{% endif %}