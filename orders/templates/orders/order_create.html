{% extends 'product_service/template.html' %}

{% load crispy_forms_tags %}

{% block title %} {{ listing.product_name }} payment {% endblock %}

{% block container %}
	{% if not request.user == listing.user %}
		<h1 class="my-2 p-2">Create payment</h1>
		<div class="container d-flex gap-4">
			<form method="post" action="{% url 'confirm-order' listing.pk %}"
				  class="container shadow rounded order-form w-50 d-flex flex-column align-items-center p-3 mb-3">
				{% csrf_token %}
				{{ form|crispy }}
				<div class="d-flex align-items-center justify-content-center text-center gap-2 pb-3">
					<button type="submit" class="btn btn-primary">Continue</button>
					<a href="{% url 'listing-details' listing.pk %}" class="btn btn-danger">Cancel</a>
				</div>
			</form>
			{% include 'orders/product_details.html' %}
		</div>
	{% else %}
		<div class="alert alert-danger mt-3 text-center" role="alert">
			You can't create an order from your own listing!
		</div>
	{% endif %}
{% endblock %}